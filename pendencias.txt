from core.models import Disciplina, Quiz, Questao, Alternativa, RespostaQuestao

# =============================================
# Criar disciplina
# =============================================
disciplina, created = Disciplina.objects.get_or_create(nome="Clash Royale")
print("Disciplina criada:", disciplina.nome)

# =============================================
# Criar Quiz Iniciante
# =============================================
quiz = Quiz.objects.create(
    titulo="Quiz Iniciante de Clash Royale",
    disciplina=disciplina,
    nivel="Iniciante",
    descricao="Quiz para testar seus conhecimentos b√°sicos sobre Clash Royale.",
    tipo_questoes="M√∫ltipla Escolha"
)
print("Quiz criado:", quiz.titulo)


# =============================================
# QUEST√ïES + ALTERNATIVAS + GABARITO
# =============================================

questions = [
    {
        "descricao": "Qual √© a arena inicial no Clash Royale?",
        "alternativas": [
            "Arena de Treinamento",
            "Arena dos Goblins",
            "Arena da Selva",
            "Geleira Congelada"
        ],
        "correta": 0,
        "explicacao": "Todo jogador come√ßa na Arena de Treinamento, antes da Arena 1."
    },
    {
        "descricao": "Qual destes √© um feiti√ßo?",
        "alternativas": [
            "Gigante",
            "Flechas",
            "Cavaleiro",
            "Pr√≠ncipe"
        ],
        "correta": 1,
        "explicacao": "Flechas √© um feiti√ßo que atinge v√°rias tropas pequenas."
    },
    {
        "descricao": "Qual √© o objetivo principal do jogo?",
        "alternativas": [
            "Coletar cartas",
            "Destruir as torres inimigas",
            "Conseguir o maior n√≠vel de rei",
            "Subir de cl√£"
        ],
        "correta": 1,
        "explicacao": "O objetivo central √© destruir as torres inimigas para vencer a partida."
    },
    {
        "descricao": "Qual carta custa 5 de elixir?",
        "alternativas": [
            "Golem",
            "Valqu√≠ria",
            "Horda de Servos",
            "Mago"
        ],
        "correta": 3,
        "explicacao": "O Mago custa 5 de elixir e causa dano em √°rea."
    },
    {
        "descricao": "Qual destas cartas ataca somente constru√ß√µes?",
        "alternativas": [
            "Gigante",
            "Mini P.E.K.K.A",
            "Mosqueteira",
            "Valqu√≠ria"
        ],
        "correta": 0,
        "explicacao": "O Gigante foca exclusivamente em constru√ß√µes como torres e pr√©dios."
    }
]

for q in questions:
    questao = Questao.objects.create(
        quiz=quiz,
        descricao=q["descricao"]
    )

    alternativas_objs = []
    for alt in q["alternativas"]:
        alternativas_objs.append(
            Alternativa.objects.create(
                questao=questao,
                texto=alt
            )
        )

    resposta_correta = alternativas_objs[q["correta"]]

    RespostaQuestao.objects.create(
        questao=questao,
        alternativa=resposta_correta,
        explicacao=q["explicacao"]
    )

    print("Quest√£o criada:", questao.descricao)


print("\nüéâ Quiz iniciante de Clash Royale criado com sucesso!")
